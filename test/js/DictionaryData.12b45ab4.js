(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["DictionaryData"],{"4c2c":function(e,t,a){},"51db":function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-collapse-transition",[a("div",{directives:[{name:"show",rawName:"v-show",value:e.isShow,expression:"isShow"}],staticStyle:{"box-sizing":"border-box"}},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("列表查询")])]),a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.searchForm,"label-width":"120px","label-position":"right"}},[a("el-form-item",{attrs:{label:"字典名称:"}},[a("el-input",{attrs:{placeholder:"请输入字典名称"},model:{value:e.searchForm.LikeName,callback:function(t){e.$set(e.searchForm,"LikeName",t)},expression:"searchForm.LikeName"}})],1),a("el-form-item",{attrs:{label:"字典标签:"}},[a("el-input",{attrs:{placeholder:"请输入字典标签"},model:{value:e.searchForm.LikeValue,callback:function(t){e.$set(e.searchForm,"LikeValue",t)},expression:"searchForm.LikeValue"}})],1),a("el-form-item",{attrs:{label:"字典状态:"}},[a("el-select",{model:{value:e.searchForm.LikeStatus,callback:function(t){e.$set(e.searchForm,"LikeStatus",t)},expression:"searchForm.LikeStatus"}},e._l(e.options,(function(e,t){return a("el-option",{key:t,attrs:{value:e.value,label:e.label}})})),1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.searchForm.page=1,e.getData()}}},[e._v("查询")])],1)],1)],1),a("div",{staticStyle:{height:"20px",width:"100%"}})],1)]),a("el-card",{staticClass:"box-card visible"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("部门列表")])]),a("vxe-toolbar",{attrs:{custom:"",print:"",export:""},scopedSlots:e._u([{key:"buttons",fn:function(){return[a("el-button",{staticClass:"button-left",attrs:{type:"primary",size:"small"},on:{click:function(t){e.dialogFormVisible=!0}}},[a("i",{staticClass:"el-icon-plus"}),e._v(" 添加 ")]),a("el-button",{staticClass:"button-left",attrs:{type:"primary",size:"small"},on:{click:e.deleteItems}},[a("i",{staticClass:"el-icon-delete"}),e._v(" 多选删除 ")]),a("el-button",{staticClass:"button-left",attrs:{type:"primary",size:"small"},on:{click:e.getData}},[a("i",{staticClass:"el-icon-refresh-right"}),e._v(" 刷新 ")]),a("el-button",{staticClass:"button-left",attrs:{type:"primary",size:"small"},on:{click:function(t){e.isShow=!e.isShow}}},[a("i",{staticClass:"el-icon-search"}),e._v(" 模糊查询 ")])]},proxy:!0}])}),a("vxe-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"xTable",attrs:{data:e.tableData,border:"","export-config":e.exportConfig,"element-loading-background":"rgba(0, 0, 0, 0)","show-overflow":"",resizable:"",align:"center","highlight-hover-row":"","highlight-current-row":""}},[a("vxe-table-column",{attrs:{type:"checkbox",width:"50",fixed:"left"}}),a("vxe-table-column",{attrs:{type:"seq",width:"50",title:"序号",fixed:"left"}}),a("vxe-table-column",{attrs:{field:"Text",title:"字典标签",sortable:"","show-overflow":""}}),a("vxe-table-column",{attrs:{field:"Value",title:"字典键值","show-overflow":"",sortable:""}}),a("vxe-table-column",{attrs:{field:"Index",title:"字典排序",sortable:"","show-overflow":""}}),a("vxe-table-column",{attrs:{field:"CreationTime",title:"创建时间",width:"200",sortable:"","show-overflow":""}}),a("vxe-table-column",{attrs:{field:"Status",title:"状态",width:"200","show-overflow":""},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.row;return[e._v(" "+e._s("1"===o.Status?"正常":"停用")+" "),a("el-switch",{attrs:{"active-color":"#00A854","active-value":"1","inactive-color":"#F04134","inactive-value":"2"},on:{change:function(t){return e.updataValueStatus(o)}},model:{value:o.Status,callback:function(t){e.$set(o,"Status",t)},expression:"row.Status"}})]}}])}),a("vxe-table-column",{attrs:{title:"操作",width:"250",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.row;return[a("el-button",{attrs:{size:"mini"},on:{click:function(t){return e.editItem(o)}}},[e._v("编辑")]),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(t){return e.deleteItem(o)}}},[e._v("删除")])]}}])})],1),a("el-pagination",{attrs:{"current-page":e.searchForm.page,"page-sizes":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.count},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),a("el-dialog",{attrs:{width:"40%","close-on-click-modal":!1,visible:e.dialogFormVisible,title:"添加数据"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{attrs:{"label-width":"90px","label-position":"right",model:e.addForm}},[a("el-form-item",{attrs:{label:"名称"}},[a("el-input",{attrs:{placeholder:"请输入字典名称"},model:{value:e.addForm.Text,callback:function(t){e.$set(e.addForm,"Text",t)},expression:"addForm.Text"}})],1),a("el-form-item",{attrs:{label:"值"}},[a("el-input",{attrs:{placeholder:"请输入字典值"},model:{value:e.addForm.Value,callback:function(t){e.$set(e.addForm,"Value",t)},expression:"addForm.Value"}})],1),a("el-form-item",{attrs:{label:"排序"}},[a("el-input",{attrs:{placeholder:"请输入排序"},model:{value:e.addForm.Index,callback:function(t){e.$set(e.addForm,"Index",t)},expression:"addForm.Index"}})],1),a("el-form-item",{attrs:{label:"备注"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入备注",autosize:{minRows:4,maxRows:8}},model:{value:e.addForm.Annotation,callback:function(t){e.$set(e.addForm,"Annotation",t)},expression:"addForm.Annotation"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"medium",type:"primary"},on:{click:e.addValue}},[e._v(" 提 交 ")]),a("el-button",{attrs:{size:"medium"},on:{click:function(t){e.dialogFormVisible=!1}}},[e._v(" 取 消 ")])],1)],1),a("el-dialog",{attrs:{width:"40%","close-on-click-modal":!1,visible:e.dialogFormEditVisible,title:"修改数据"},on:{"update:visible":function(t){e.dialogFormEditVisible=t}}},[a("el-form",{attrs:{"label-width":"90px","label-position":"right",model:e.editForm}},[a("el-form-item",{attrs:{label:"名称"}},[a("el-input",{attrs:{placeholder:"请输入字典名称"},model:{value:e.editForm.Text,callback:function(t){e.$set(e.editForm,"Text",t)},expression:"editForm.Text"}})],1),a("el-form-item",{attrs:{label:"值"}},[a("el-input",{attrs:{placeholder:"请输入字典值"},model:{value:e.editForm.Value,callback:function(t){e.$set(e.editForm,"Value",t)},expression:"editForm.Value"}})],1),a("el-form-item",{attrs:{label:"排序"}},[a("el-input",{attrs:{placeholder:"请输入排序"},model:{value:e.editForm.Index,callback:function(t){e.$set(e.editForm,"Index",t)},expression:"editForm.Index"}})],1),a("el-form-item",{attrs:{label:"备注"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入备注",autosize:{minRows:4,maxRows:8}},model:{value:e.editForm.Annotation,callback:function(t){e.$set(e.editForm,"Annotation",t)},expression:"editForm.Annotation"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"medium",type:"primary"},on:{click:e.editHttp}},[e._v(" 提 交 ")]),a("el-button",{attrs:{size:"medium"},on:{click:function(t){e.dialogFormEditVisible=!1}}},[e._v(" 取 消 ")])],1)],1)],1)],1)},i=[],s=a("2f62");function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,o)}return a}function l(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(a,!0).forEach((function(t){n(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var c={data:function(){return{searchForm:{AutoSystemID:"",page:1,limit:10,LikeName:"",LikeValue:"",LikeStatus:100,KeySystemID:""},isShow:!0,options:[{label:"所有",value:100},{label:"正常",value:1},{label:"停用",value:2}],tableData:[],loading:!1,count:0,addForm:{},dialogFormVisible:!1,selectedItems:[],editForm:{AutoSystemID:"",SystemID:"",Text:"",Value:"",Index:"",Annotation:""},dialogFormEditVisible:!1,exportConfig:{filename:"export",sheetName:"Sheet1",types:["csv","xlsx"]}}},computed:l({},Object(s["c"])("table",["pageSize"]),{},Object(s["c"])("detail",["dictionaryDataParams"])),created:function(){this.searchForm.AutoSystemID=localStorage.getItem("AutoSystemID"),this.searchForm.limit=this.pageSize[0],this.searchForm.KeySystemID=this.dictionaryDataParams.KeySystemID,this.getData()},methods:{handleSizeChange:function(e){this.searchForm.limit=e,this.getData()},handleCurrentChange:function(e){this.searchForm.page=e,this.getData()},getData:function(){var e=this;this.loading=!0;var t="/api/Dictionaries/GetValueList";this.$axios.get(t,{params:this.searchForm}).then((function(t){0===t.data.code?(e.tableData=t.data.data,e.count=t.data.count,e.loading=!1):1===t.data.code&&e.$message.error(t.data.msg)})).catch((function(e){console.error(e)}))},addValue:function(){var e=this;this.addForm.AutoSystemID=this.searchForm.AutoSystemID,this.addForm.KeySystemID=this.searchForm.KeySystemID,this.addForm.SystemID="";var t="/api/Dictionaries/AddValue";this.$axios.post(t,this.addForm).then((function(t){0===t.data.code?(e.$message.success(t.data.msg),e.addForm={}):1===t.data.code&&e.$message.error(t.data.msg),e.dialogFormVisible=!1,e.getData()})).catch((function(e){console.error(e)}))},deleteItem:function(e){var t=this,a="/api/Dictionaries/DeleteValue",o={AutoSystemID:this.searchForm.AutoSystemID,data:[{SystemID:e.SystemID,Name:e.Text}]};this.$confirm("确定删除吗","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.$axios.post(a,o).then((function(e){if(0===e.data.code){t.$message.success(e.data.msg);var a=Math.ceil((t.count-1)/t.searchForm.limit),o=t.searchForm.page>a?a:t.searchForm.page;t.searchForm.page=o<1?1:o,t.getData()}else 1===e.data.code&&t.$message.error(e.data.msg)})).catch((function(e){console.error(e)}))})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))},deleteItems:function(){var e=this;this.selectedItems=this.$refs.xTable.getSelectRecords();var t=[];if(0===this.selectedItems.length)return this.$message.warning("请选择要删除的用户"),!1;var a=!0,o=!1,i=void 0;try{for(var s,r=this.selectedItems[Symbol.iterator]();!(a=(s=r.next()).done);a=!0){var l=s.value;t.push({Name:l.Text,SystemID:l.SystemID})}}catch(n){o=!0,i=n}finally{try{a||null==r.return||r.return()}finally{if(o)throw i}}this.$confirm("确定删除吗","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var a="/api/Dictionaries/DeleteValue";e.$axios.post(a,{AutoSystemID:e.searchForm.AutoSystemID,data:t}).then((function(t){if(0===t.data.code){e.$message.success("删除成功");var a=Math.ceil((e.count-e.selectedItems.length)/e.searchForm.limit),o=e.searchForm.page>a?a:e.searchForm.page;e.searchForm.page=o<1?1:o,e.getData()}else 1===t.data.code&&e.$message.error(t.data.msg)})).catch((function(e){console.error(e)}))})).catch((function(){e.$message({type:"info",message:"已取消删除"})}))},updataValueStatus:function(e){var t=this,a={AutoSystemID:this.searchForm.AutoSystemID,Status:parseInt(e.Status),SystemID:e.SystemID,Text:e.Text},o="/api/Dictionaries/UpdataValueStatus";this.$axios.post(o,a).then((function(e){0===e.data.code?t.$message.success(e.data.msg):1===e.data.code&&t.$message.error(e.data.msg)})).catch((function(e){console.error(e)}))},editItem:function(e){this.editForm=e,this.dialogFormEditVisible=!0},editHttp:function(){var e=this,t={AutoSystemID:this.searchForm.AutoSystemID,SystemID:this.editForm.SystemID,Text:this.editForm.Text,Value:this.editForm.Value,Index:this.editForm.Index,Annotation:this.editForm.Annotation},a="/api/Dictionaries/UpdataValue";this.$axios.post(a,t).then((function(t){0===t.data.code?(e.$message.success(t.data.msg),e.editForm={},e.dialogFormEditVisible=!1,e.getData()):1===t.data.code&&e.$message.error(t.data.msg)})).catch((function(e){console.error(e)}))}}},m=c,d=(a("b55f"),a("2877")),u=Object(d["a"])(m,o,i,!1,null,"8f6d4760",null);t["default"]=u.exports},b55f:function(e,t,a){"use strict";var o=a("4c2c"),i=a.n(o);i.a}}]);
//# sourceMappingURL=DictionaryData.12b45ab4.js.map