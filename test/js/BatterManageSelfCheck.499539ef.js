(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["BatterManageSelfCheck"],{"682f":function(t,e,a){},"6dd2":function(t,e,a){"use strict";var s=a("682f"),l=a.n(s);l.a},fe03:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[t._v(t._s(t.$t("selfCheck.searchTitle")))])]),a("el-form",{attrs:{"label-width":"80px",inline:!0}},[t._l(t.baseIfo,(function(t,e){return a("el-form-item",{key:e,attrs:{label:t.label}},[a("el-input",{attrs:{value:t.value,readonly:!0}})],1)})),a("el-form-item",{attrs:{label:t.$t("selfCheck.formLabel")[0]}},[a("el-select",{model:{value:t.bank,callback:function(e){t.bank=e},expression:"bank"}},[a("el-option",{attrs:{label:"Bank1",value:"0"}}),a("el-option",{attrs:{label:"Bank2",value:"1"}})],1)],1)],2)],1),a("el-card",{staticClass:"box-card visible"},[a("vxe-toolbar",{attrs:{custom:"",print:"",export:""},scopedSlots:t._u([{key:"buttons",fn:function(){return[a("el-button",{staticClass:"button-left",attrs:{type:"primary",size:"small"},on:{click:function(e){return t.getData(t.paramsSC)}}},[a("i",{staticClass:"el-icon-refresh-right"}),t._v(" "+t._s(t.$t("base.searchbtn"))+" ")])]},proxy:!0}])}),a("vxe-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"xTable",attrs:{data:t.mAIN_CONTROL_SELF_CHECK_STATUS,border:"",customs:t.customColumns,"element-loading-background":"rgba(0, 0, 0, 0)",resizable:"","highlight-hover-row":"","highlight-current-row":"",align:"center"},on:{"update:customs":function(e){t.customColumns=e}}},[a("vxe-table-column",{attrs:{type:"checkbox",width:"50",fixed:"left",align:"center"}}),a("vxe-table-column",{attrs:{type:"seq",width:"50",title:t.$t("selfCheck.tableLabel")[0],fixed:"left",align:"center"}}),t._l(t.tableColumn,(function(e,s){return a("vxe-table-column",t._b({key:s,scopedSlots:t._u([{key:"default",fn:function(e){var l=e.row;return[l[s]?[a("el-tag",{attrs:{type:"warning",size:"small"}},[t._v(t._s(t.$t("selfCheck.state")[1]))])]:[a("el-tag",{attrs:{type:"success",size:"small"}},[t._v(t._s(t.$t("selfCheck.state")[0]))])]]}}],null,!0)},"vxe-table-column",e,!1))}))],2)],1)],1)},l=[],r=a("2f62");function n(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function i(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?n(a,!0).forEach((function(e){o(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):n(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function o(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var c={data:function(){return{baseIfo:[],data:{},activeName:"firstAlarm",bank:"0",mAIN_CONTROL_SELF_CHECK_STATUS:[],loading:!1,api:"/api/Devices/GetRegistrationEquipment",tableColumn:[],exportConfig:{filename:"export",sheetName:"Sheet1",types:["csv","xlsx"]}}},computed:i({},Object(r["c"])("detail",["paramsSC"])),watch:{paramsSC:{handler:function(t,e){this.data={},this.baseIfo=[],this.getDetail(this.api,this.paramsSC),this.getData(this.paramsSC)},deep:!0},bank:{handler:function(t,e){this.getData(this.paramsSC)}}},mounted:function(){this.paramsSC.AutoSystemID&&this.paramsSC.batterID&&(this.getDetail(this.api,this.paramsSC),this.getData(this.paramsSC),this.setData())},methods:{getData:function(t){var e=this,a=localStorage.getItem("AutoSystemID");this.loading=!0;var s="/api/Chart/GetBatteryBankCLUSTERStateCharts";this.$axios.get("".concat(s,"?AutoSystemID=").concat(a,"&BatteryIDS=").concat(t.batterID,"&BankIndex=").concat(this.bank)).then((function(t){0===t.data.code?(e.mAIN_CONTROL_SELF_CHECK_STATUS=t.data.data.mAIN_CONTROL_SELF_CHECK_STATUS,e.setData()):1===t.data.code&&e.$message.error(t.data.msg),e.loading=!1})).catch((function(t){console.error(t)}))},getDetail:function(t,e){var a=this;this.$axios.get("".concat(t,"?AutoSystemID=").concat(e.AutoSystemID,"&SystemID=").concat(e.SystemID)).then((function(t){for(var e in a.data=t.data.data,a.data)switch(e){case"DIDS":a.baseIfo.push({label:a.$t("selfCheck.formLabel")[1],value:a.data[e]});break;case"DICCID":a.baseIfo.push({label:a.$t("selfCheck.formLabel")[2],value:a.data[e]});break;case"DVIN":a.baseIfo.push({label:a.$t("selfCheck.formLabel")[3],value:a.data[e]});break;case"DName":a.baseIfo.push({label:a.$t("selfCheck.formLabel")[3],value:a.data[e]});break}})).catch((function(t){console.error(t)}))},setData:function(){this.tableColumn=[{field:"EEPROM_ERRCODE",title:this.$t("selfCheck.tableLabel")[1]},{field:"MASTER_ID_OUT_OF_BOUNDS",title:this.$t("selfCheck.tableLabel")[2]},{field:"PCS_STANDBY_FAILED",title:this.$t("selfCheck.tableLabel")[3]},{field:"FLASH_SELF_CHECK_STATUS",title:this.$t("selfCheck.tableLabel")[4]}]}}},u=c,f=(a("6dd2"),a("2877")),b=Object(f["a"])(u,s,l,!1,null,"5e1a4de4",null);e["default"]=b.exports}}]);
//# sourceMappingURL=BatterManageSelfCheck.499539ef.js.map