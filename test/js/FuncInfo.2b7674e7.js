(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["FuncInfo"],{"0b8b":function(t,e,a){},"354f":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[t._v(t._s(t.$t("funcInfo.searchTitle")))])]),a("el-form",{attrs:{"label-width":"80px",inline:!0}},[t._l(t.baseIfo,(function(t,e){return a("el-form-item",{key:e,staticStyle:{width:"400px"},attrs:{label:t.label}},[a("el-input",{staticStyle:{width:"250px"},attrs:{value:t.value,readonly:!0}})],1)})),a("el-form-item",{staticStyle:{width:"350px"},attrs:{label:t.$t("funcInfo.formLabel")[0]}},[a("el-select",{staticStyle:{width:"250px"},model:{value:t.bank,callback:function(e){t.bank=e},expression:"bank"}},[a("el-option",{attrs:{label:"Bank1",value:"0"}}),a("el-option",{attrs:{label:"Bank2",value:"1"}})],1)],1)],2)],1),a("el-card",{staticClass:"box-card visible"},[a("el-tabs",{on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:t.$t("funcInfo.tabs")[0],name:"alarm"}}),a("el-tab-pane",{attrs:{label:t.$t("funcInfo.tabs")[1],name:"protect"}}),a("vxe-toolbar",{attrs:{custom:"",print:"",export:""},scopedSlots:t._u([{key:"buttons",fn:function(){return[a("el-button",{staticClass:"button-left",attrs:{type:"primary",size:"small"},on:{click:function(e){return t.getData(t.paramsF)}}},[a("i",{staticClass:"el-icon-refresh-right"}),t._v(" "+t._s(t.$t("base.refresh"))+" ")])]},proxy:!0}])}),a("vxe-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"xTable",attrs:{data:t.activeArray,border:"","export-config":t.exportConfig,"element-loading-background":"rgba(0, 0, 0, 0)",resizable:"","highlight-hover-row":"","highlight-current-row":"",align:"center","seq-config":{seqMethod:t.seqMethod}}},[a("vxe-table-column",{attrs:{type:"checkbox",width:"50",fixed:"left",align:"center"}}),a("vxe-table-column",{attrs:{type:"seq",width:"80",title:t.$t("funcInfo.tableLabel")[0],fixed:"left",align:"center"}}),t._l(t.tableColumn,(function(e,n){return a("vxe-table-column",t._b({key:n,attrs:{"show-header-overflow":""},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.row;return[r[n]?[a("el-tag",{attrs:{type:"warning",size:"small"}},[t._v(t._s(t.$t("funcInfo.state")[1]))])]:[a("el-tag",{attrs:{type:"success",size:"small"}},[t._v(t._s(t.$t("funcInfo.state")[0]))])]]}}],null,!0)},"vxe-table-column",e,!1))}))],2)],1)],1)],1)},r=[],i=a("2f62");function s(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function o(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?s(a,!0).forEach((function(e){l(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):s(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function l(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var c={data:function(){return{baseIfo:[],data:{},activeName:"alarm",bank:"0",aLARM_SWITCH_STATUS_ARRAY:[],pROTECT_SWITCH_STATUS_ARRAY:[],bitInfo:[],loading:!1,api:"/api/Devices/GetRegistrationEquipment",tableColumn:[],activeArray:[],exportConfig:{filename:"export",sheetName:"Sheet1",types:["csv","xlsx"]}}},computed:o({},Object(i["c"])("detail",["paramsF"])),watch:{paramsF:{handler:function(t,e){this.data={},this.baseIfo=[],this.getDetail(this.api,this.paramsF),this.getData(this.paramsF)},deep:!0},bank:{handler:function(t,e){this.getData(this.paramsF)}}},mounted:function(){this.paramsF.AutoSystemID&&this.paramsF.batterID&&(this.getDetail(this.api,this.paramsF),this.getData(this.paramsF),this.activeArray=this.aLARM_SWITCH_STATUS_ARRAY)},methods:{getData:function(t){var e=this,a=localStorage.getItem("AutoSystemID");this.loading=!0;var n="/api/Chart/GetBatteryBankCTRLParaCharts";this.$axios.get("".concat(n,"?AutoSystemID=").concat(a,"&BatteryIDS=").concat(t.batterID,"&BankIndex=").concat(this.bank)).then((function(t){0===t.data.code?(e.aLARM_SWITCH_STATUS_ARRAY=t.data.data.aLARM_SWITCH_STATUS_ARRAY,e.pROTECT_SWITCH_STATUS_ARRAY=t.data.data.pROTECT_SWITCH_STATUS_ARRAY,e.activeArray=e.aLARM_SWITCH_STATUS_ARRAY,e.setData()):1===t.data.code&&e.$message.error(t.data.msg),e.loading=!1})).catch((function(t){console.error(t)}))},getDetail:function(t,e){var a=this;this.$axios.get("".concat(t,"?AutoSystemID=").concat(e.AutoSystemID,"&SystemID=").concat(e.SystemID)).then((function(t){for(var e in a.data=t.data.data,a.data)switch(e){case"DIDS":a.baseIfo.push({label:a.$t("funcInfo.formLabel")[1],value:a.data[e]});break;case"DICCID":a.baseIfo.push({label:a.$t("funcInfo.formLabel")[2],value:a.data[e]});break;case"DName":a.baseIfo.push({label:a.$t("funcInfo.formLabel")[3],value:a.data[e]});break}})).catch((function(t){console.error(t)}))},handleClick:function(t,e){console.log(t),"protect"===t.name?this.activeArray=this.pROTECT_SWITCH_STATUS_ARRAY:this.activeArray=this.aLARM_SWITCH_STATUS_ARRAY},setData:function(){this.bitInfo=this.$t("funcInfo.list"),this.tableColumn=[];for(var t=0;t<16;t++){var e="BATTER_BIT_"+(t+1);this.tableColumn.push({field:e,title:this.bitInfo[t],width:100})}},seqMethod:function(t){var e=t.rowIndex;return this.$t("funcInfo.unit")[0]+(e+1)+this.$t("funcInfo.unit")[1]}}},u=c,f=(a("d6ab"),a("2877")),b=Object(f["a"])(u,n,r,!1,null,"21d52744",null);e["default"]=b.exports},d6ab:function(t,e,a){"use strict";var n=a("0b8b"),r=a.n(n);r.a}}]);
//# sourceMappingURL=FuncInfo.2b7674e7.js.map