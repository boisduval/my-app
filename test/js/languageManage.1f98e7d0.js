(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["languageManage"],{"11a5":function(e,t,a){"use strict";var i=a("78f09"),o=a.n(i);o.a},"78f09":function(e,t,a){},a58f:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-collapse-transition",[a("div",{directives:[{name:"show",rawName:"v-show",value:e.isShow,expression:"isShow"}],staticStyle:{"box-sizing":"border-box"}},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("模糊查询")])]),a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.formInline,"label-width":"90px","label-position":"right"}},[a("el-form-item",{attrs:{label:"标题:"}},[a("el-input",{attrs:{placeholder:"请输入标题"},model:{value:e.formInline.Caption,callback:function(t){e.$set(e.formInline,"Caption",t)},expression:"formInline.Caption"}})],1),a("el-form-item",{attrs:{label:"简体中文:"}},[a("el-input",{attrs:{placeholder:"请输入简体中文"},model:{value:e.formInline.ChineseSimplified,callback:function(t){e.$set(e.formInline,"ChineseSimplified",t)},expression:"formInline.ChineseSimplified"}})],1),a("el-form-item",{attrs:{label:"繁体中文:"}},[a("el-input",{attrs:{placeholder:"请输入繁体中文"},model:{value:e.formInline.ChineseTraditional,callback:function(t){e.$set(e.formInline,"ChineseTraditional",t)},expression:"formInline.ChineseTraditional"}})],1),a("el-form-item",{attrs:{label:"英文:"}},[a("el-input",{attrs:{placeholder:"请输入英文"},model:{value:e.formInline.Name,callback:function(t){e.$set(e.formInline,"Name",t)},expression:"formInline.Name"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.formInline.page=1,e.getData()}}},[e._v("查询")])],1)],1)],1),a("div",{staticStyle:{height:"20px",width:"100%"}})],1)]),a("el-card",{staticClass:"box-card visible"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("设备管理")])]),a("vxe-toolbar",{attrs:{custom:"",print:"",export:""},scopedSlots:e._u([{key:"buttons",fn:function(){return[a("el-button",{staticClass:"button-left",attrs:{type:"primary",size:"small"},on:{click:e.showAddForm}},[a("i",{staticClass:"el-icon-plus"}),e._v(" 添加 ")]),a("el-button",{staticClass:"button-left",attrs:{type:"primary",size:"small"},on:{click:e.getData}},[a("i",{staticClass:"el-icon-refresh-right"}),e._v(" 刷新 ")]),a("el-button",{staticClass:"button-left",attrs:{type:"primary",size:"small"},on:{click:function(t){e.isShow=!e.isShow}}},[a("i",{staticClass:"el-icon-search"}),e._v(" 模糊查询 ")])]},proxy:!0}])}),a("vxe-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"xTable",attrs:{data:e.tableData,border:"","export-config":e.exportConfig,"element-loading-background":"rgba(0, 0, 0, 0)","edit-config":{trigger:"manual",mode:"row"},resizable:"","highlight-hover-row":"","highlight-current-row":""}},[a("vxe-table-column",{attrs:{type:"checkbox",width:"50",fixed:"left",align:"center"}}),a("vxe-table-column",{attrs:{type:"seq",width:"50",title:"序号",fixed:"left",align:"center"}}),a("vxe-table-column",{attrs:{field:"Code",width:"200",title:"语言代码",sortable:"",align:"center","show-overflow":""}}),a("vxe-table-column",{attrs:{field:"Caption",title:"标题",width:"250","show-overflow":""}}),a("vxe-table-column",{attrs:{field:"ChineseSimplified",title:"简体中文",width:"250","show-overflow":""}}),a("vxe-table-column",{attrs:{field:"ChineseTraditional",title:"繁体中文",width:"250","show-overflow":""}}),a("vxe-table-column",{attrs:{field:"English",title:"英文",width:"250","show-overflow":""}}),a("vxe-table-column",{attrs:{title:"操作",align:"center",width:"300"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("el-button",{attrs:{plain:"",size:"small"},on:{click:function(t){return e.editItem(i)}}},[a("i",{staticClass:"el-icon-info"},[e._v("更新内容")])]),a("el-button",{attrs:{plain:"",size:"small"},on:{click:function(t){return e.delItem(i)}}},[a("i",{staticClass:"el-icon-info"},[e._v("删除语言")])])]}}])})],1),a("el-pagination",{attrs:{"current-page":e.formInline.page,"page-sizes":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.count},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),a("el-dialog",{attrs:{width:"35%","close-on-click-modal":!1,visible:e.dialogFormAddVisible,title:"语言数据"},on:{"update:visible":function(t){e.dialogFormAddVisible=t}}},[a("div",{staticStyle:{"max-height":"500px","overflow-y":"auto","overflow-x":"hidden"}},[a("el-form",{staticStyle:{position:"relative"},attrs:{"label-width":"90px","label-position":"right",model:e.addForm}},[e.spinShow?a("Spin",{attrs:{fix:""}}):e._e(),a("el-form-item",{attrs:{label:"语言标题"}},[a("el-input",{attrs:{placeholder:"请输入语言标题"},model:{value:e.addForm.Caption,callback:function(t){e.$set(e.addForm,"Caption",t)},expression:"addForm.Caption"}})],1),a("el-form-item",{attrs:{label:"目标类型"}},[a("el-select",{attrs:{placeholder:"请选择目标类型"},model:{value:e.addForm.targetType,callback:function(t){e.$set(e.addForm,"targetType",t)},expression:"addForm.targetType"}},e._l(e.targetType,(function(e){return a("el-option",{key:e.Value,attrs:{label:e.Text,value:e.Value}})})),1)],1),a("el-form-item",{attrs:{label:"设备类型"}},[a("el-select",{attrs:{placeholder:"请选择设备类型"},model:{value:e.addForm.deviceType,callback:function(t){e.$set(e.addForm,"deviceType",t)},expression:"addForm.deviceType"}},e._l(e.deviceType,(function(e){return a("el-option",{key:e.Value,attrs:{label:e.Text,value:e.Value}})})),1)],1),a("el-form-item",{attrs:{label:"分类类型"}},[a("el-select",{attrs:{placeholder:"请选择分类类型"},model:{value:e.addForm.classifyType,callback:function(t){e.$set(e.addForm,"classifyType",t)},expression:"addForm.classifyType"}},e._l(e.classifyType,(function(e){return a("el-option",{key:e.Value,attrs:{label:e.Text,value:e.Value}})})),1)],1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"medium",type:"primary",disabled:e.spinShow},on:{click:e.addHttp}},[e._v(" 提 交 ")]),a("el-button",{attrs:{size:"medium"},on:{click:function(t){e.dialogFormAddVisible=!1}}},[e._v(" 取 消 ")])],1)]),a("el-dialog",{attrs:{width:"35%","close-on-click-modal":!1,visible:e.dialogFormEditVisible,title:"语言数据"},on:{"update:visible":function(t){e.dialogFormEditVisible=t}}},[a("div",{staticStyle:{"max-height":"500px","overflow-y":"auto","overflow-x":"hidden"}},[a("el-form",{staticStyle:{position:"relative"},attrs:{"label-width":"90px","label-position":"right",model:e.editForm}},[e.spinShow?a("Spin",{attrs:{fix:""}}):e._e(),a("el-form-item",{attrs:{label:"语言标题"}},[a("el-input",{attrs:{placeholder:"请输入语言标题",disabled:""},model:{value:e.editForm.Caption,callback:function(t){e.$set(e.editForm,"Caption",t)},expression:"editForm.Caption"}})],1),a("el-form-item",{attrs:{label:"语言类型"}},[a("el-select",{attrs:{placeholder:"请选择语言类型"},model:{value:e.editForm.Type,callback:function(t){e.$set(e.editForm,"Type",t)},expression:"editForm.Type"}},e._l(e.languageType,(function(e){return a("el-option",{key:e.Value,attrs:{label:e.Text,value:e.Value}})})),1)],1),a("el-form-item",{attrs:{label:"修改内容"}},[a("el-input",{attrs:{type:"textarea",rows:5},model:{value:e.editForm.Text,callback:function(t){e.$set(e.editForm,"Text",t)},expression:"editForm.Text"}})],1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"medium",type:"primary",disabled:e.spinShow},on:{click:e.editHttp}},[e._v(" 提 交 ")]),a("el-button",{attrs:{size:"medium"},on:{click:function(t){e.dialogFormEditVisible=!1}}},[e._v(" 取 消 ")])],1)])],1)],1)},o=[],n=a("2f62");function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(a,!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var c={data:function(){return{formInline:{page:1,limit:2,Caption:"",ChineseSimplified:"",ChineseTraditional:"",English:"",AutoSystemID:"",LanguageSystemID:"0"},tableData:[],isShow:!0,exportConfig:{filename:"export",sheetName:"Sheet1",types:["csv","xlsx"]},count:0,loading:!1,dialogFormAddVisible:!1,spinShow:!1,targetType:"",deviceType:"",classifyType:"",languageType:"",addForm:{Caption:"",classifyType:"",targetType:"",deviceType:""},dialogFormEditVisible:!1,editForm:{AutoSystemID:"",SystemID:"",Type:"",Text:"",Caption:""}}},methods:s({},Object(n["b"])("pcsdetail",["set_paramsRT"]),{},Object(n["b"])("tabs",["set_detail_label"]),{getData:function(){var e=this;this.loading=!0,this.formInline.AutoSystemID=localStorage.getItem("AutoSystemID"),this.$axios.get("/api/Language/GetLanguageInfos",{params:this.formInline}).then((function(t){t.data.data?e.tableData=t.data.data:e.tableData=[],e.count=t.data.count,e.loading=!1})).catch((function(e){console.log(e)}))},handleSizeChange:function(e){this.formInline.limit=e,this.getData()},handleCurrentChange:function(e){this.formInline.page=e,this.getData()},showAddForm:function(){var e=this;this.spinShow=!0,this.dialogFormAddVisible=!0,this.getTargetType().then((function(t){return e.getDeviceType()})).then((function(t){return e.getClassifyType()})).then((function(t){e.spinShow=!1}))},addHttp:function(){var e=this,t=this.formInline.AutoSystemID,a="/api/Language/Add",i=1e6*this.addForm.targetType+1e3*this.addForm.deviceType+1*this.addForm.classifyType;console.log(i);var o={AutoSystemID:t,Code:i,Caption:this.addForm.Caption};this.$axios.post(a,o).then((function(t){0===t.data.code?(e.$message.success(t.data.msg),e.addForm.classifyType="",e.addForm.Caption="",e.addForm.targetType="",e.addForm.deviceType="",e.dialogFormAddVisible=!1):e.$message.error(t.data.msg)})).catch((function(e){console.error(e)}))},editItem:function(e){var t=this;this.editForm.Caption=e.Caption,this.editForm.SystemID=e.SystemID,this.editForm.Text="",this.editForm.Type="",this.dialogFormEditVisible=!0,this.spinShow=!0,this.getLanguageType().then((function(e){t.editForm.Type=t.languageType[0].Value,t.spinShow=!1}))},editHttp:function(){var e=this,t=this.formInline.AutoSystemID,a="/api/Language/Edit",i={AutoSystemID:t,SystemID:this.editForm.SystemID,Type:this.editForm.Type,Text:this.editForm.Text};this.$axios.post(a,i).then((function(t){0===t.data.code?(e.$message.success(t.data.msg),e.dialogFormEditVisible=!1,e.getData()):e.$message.error(t.data.msg)})).catch((function(e){console.error(e)}))},delItem:function(e){var t=this,a="/api/Language/Delete",i={AutoSystemID:this.formInline.AutoSystemID,SystemID:e.SystemID};this.$confirm("确定删除吗","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.$axios.post(a,i).then((function(e){if(0===e.data.code){t.$message.success(e.data.msg);var a=Math.ceil((t.count-1)/t.formInline.limit),i=t.formInline.page>a?a:t.formInline.page;t.formInline.page=i<1?1:i,t.getData()}else 1===e.data.code&&t.$message.error(e.data.msg)})).catch((function(e){console.error(e)}))})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))},getTargetType:function(){var e=this;return new Promise((function(t,a){var i=e.formInline.AutoSystemID;e.$axios.get("/api/Language/GetTargetType?AutoSystemID=".concat(i)).then((function(a){200===a.status&&(0===a.data.code?(e.targetType=a.data.data,e.addForm.targetType=e.targetType[0].Value,t(a.data.data)):t())})).catch((function(e){a(e)}))}))},getDeviceType:function(){var e=this;return new Promise((function(t,a){var i=e.formInline.AutoSystemID;e.$axios.get("/api/Language/GetDeviceType?AutoSystemID=".concat(i)).then((function(a){200===a.status&&(0===a.data.code?(e.deviceType=a.data.data,e.addForm.deviceType=e.deviceType[0].Value,t(a.data.data)):t())})).catch((function(e){a(e)}))}))},getClassifyType:function(){var e=this;return new Promise((function(t,a){var i=e.formInline.AutoSystemID;e.$axios.get("/api/Language/GetClassifyType?AutoSystemID=".concat(i)).then((function(a){200===a.status&&(0===a.data.code?(e.classifyType=a.data.data,e.addForm.classifyType=e.classifyType[0].Value,t(a.data.data)):t())})).catch((function(e){a(e)}))}))},getLanguageType:function(){var e=this;return new Promise((function(t,a){var i=e.formInline.AutoSystemID;e.$axios.get("/api/Language/GetLanguageType?AutoSystemID=".concat(i)).then((function(a){200===a.status&&(0===a.data.code?(e.languageType=a.data.data,t(a.data.data)):t())})).catch((function(e){a(e)}))}))}}),computed:s({},Object(n["c"])("table",["pageSize"])),created:function(){this.formInline.limit=this.pageSize[0],this.getData()}},d=c,m=(a("11a5"),a("2877")),u=Object(m["a"])(d,i,o,!1,null,"59757be2",null);t["default"]=u.exports}}]);
//# sourceMappingURL=languageManage.1f98e7d0.js.map