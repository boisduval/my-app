(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["HelpList"],{"0982":function(e,t,a){},"812e":function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-collapse-transition",[a("div",{directives:[{name:"show",rawName:"v-show",value:e.isShow,expression:"isShow"}],staticStyle:{"box-sizing":"border-box"}},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("配置帮助列表查询")])]),a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.searchForm,"label-width":"120px","label-position":"right"}},[a("el-form-item",{attrs:{label:"帮助主题:"}},[a("el-input",{attrs:{placeholder:"请输入帮助主题"},model:{value:e.searchForm.LikeName,callback:function(t){e.$set(e.searchForm,"LikeName",t)},expression:"searchForm.LikeName"}})],1),a("el-form-item",{attrs:{label:"帮助信息:"}},[a("el-input",{attrs:{placeholder:"请输入帮助信息："},model:{value:e.searchForm.LikeMessage,callback:function(t){e.$set(e.searchForm,"LikeMessage",t)},expression:"searchForm.LikeMessage"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.searchForm.page=1,e.getData()}}},[e._v("查询")])],1)],1)],1),a("div",{staticStyle:{height:"20px",width:"100%"}})],1)]),a("el-card",{staticClass:"box-card visible"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("帮助列表")])]),a("vxe-toolbar",{attrs:{custom:"",print:"",export:""},scopedSlots:e._u([{key:"buttons",fn:function(){return[a("el-button",{staticClass:"button-left",attrs:{type:"primary",size:"small"},on:{click:function(t){e.dialogFormVisible=!0}}},[a("i",{staticClass:"el-icon-plus"}),e._v(" 添加 ")]),a("el-button",{staticClass:"button-left",attrs:{type:"primary",size:"small"},on:{click:e.deleteItems}},[a("i",{staticClass:"el-icon-delete"}),e._v(" 多选删除 ")]),a("el-button",{staticClass:"button-left",attrs:{type:"primary",size:"small"},on:{click:e.getData}},[a("i",{staticClass:"el-icon-refresh-right"}),e._v(" 刷新 ")]),a("el-button",{staticClass:"button-left",attrs:{type:"primary",size:"small"},on:{click:function(t){e.isShow=!e.isShow}}},[a("i",{staticClass:"el-icon-search"}),e._v(" 模糊查询 ")])]},proxy:!0}])}),a("vxe-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"xTable",attrs:{data:e.tableData,border:"","export-config":e.exportConfig,"element-loading-background":"rgba(0, 0, 0, 0)","show-overflow":"",resizable:"",align:"center","highlight-hover-row":"","highlight-current-row":""}},[a("vxe-table-column",{attrs:{type:"checkbox",width:"50",fixed:"left"}}),a("vxe-table-column",{attrs:{type:"seq",width:"50",title:"序号",fixed:"left"}}),a("vxe-table-column",{attrs:{field:"Name",title:"名称",width:"300",sortable:"","show-overflow":"",align:"left"}}),a("vxe-table-column",{attrs:{field:"WriteTime",title:"记录时间",width:"200",sortable:"","show-overflow":"",align:"left"}}),a("vxe-table-column",{attrs:{field:"UpDataTime",title:"更改时间",width:"200",sortable:"","show-overflow":""}}),a("vxe-table-column",{attrs:{field:"HelpIsTop",title:"置顶",width:"200","show-overflow":""},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.row;return[e._v(" "+e._s("1"===o.HelpIsTop?"是":"否")+" "),a("el-switch",{attrs:{"active-color":"#00A854","active-value":"1","inactive-color":"#F04134","inactive-value":"0"},on:{change:function(t){return e.setTop(o)}},model:{value:o.HelpIsTop,callback:function(t){e.$set(o,"HelpIsTop",t)},expression:"row.HelpIsTop"}})]}}])}),a("vxe-table-column",{attrs:{field:"HelpIsShow",title:"筛选",width:"200","show-overflow":""},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.row;return[e._v(" "+e._s("1"===o.HelpIsShow?"是":"否")+" "),a("el-switch",{attrs:{"active-color":"#00A854","active-value":"1","inactive-color":"#F04134","inactive-value":"0"},on:{change:function(t){return e.setShow(o)}},model:{value:o.HelpIsShow,callback:function(t){e.$set(o,"HelpIsShow",t)},expression:"row.HelpIsShow"}})]}}])}),a("vxe-table-column",{attrs:{title:"操作",width:"350",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.row;return[a("el-button",{attrs:{size:"mini"},on:{click:function(t){return e.toDetail(o.SystemID)}}},[e._v("详情")]),a("el-button",{attrs:{size:"mini"},on:{click:function(t){return e.editItem(o)}}},[e._v("编辑")]),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(t){return e.deleteItem(o)}}},[e._v("删除")])]}}])})],1),a("el-pagination",{attrs:{"current-page":e.searchForm.page,"page-sizes":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.count},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),a("el-dialog",{attrs:{width:"70%","close-on-click-modal":!1,visible:e.dialogFormVisible,title:"添加帮助"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{attrs:{"label-width":"90px","label-position":"right",model:e.addForm}},[a("el-form-item",{attrs:{label:"帮助名称"}},[a("el-input",{attrs:{placeholder:"请输入帮助名称"},model:{value:e.addForm.Name,callback:function(t){e.$set(e.addForm,"Name",t)},expression:"addForm.Name"}})],1),a("el-form-item",{attrs:{label:"帮助内容"}},[a("quill-editor",{ref:"myQuillEditor",staticClass:"editor",staticStyle:{"min-height":"200px"},attrs:{options:e.editorOption},on:{blur:function(t){return e.onEditorBlur(t)},focus:function(t){return e.onEditorFocus(t)},change:function(t){return e.onEditorChange(t)}},model:{value:e.addForm.Message,callback:function(t){e.$set(e.addForm,"Message",t)},expression:"addForm.Message"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"medium",type:"primary"},on:{click:e.addKey}},[e._v(" 提 交 ")]),a("el-button",{attrs:{size:"medium"},on:{click:function(t){e.dialogFormVisible=!1}}},[e._v(" 取 消 ")])],1)],1),a("el-dialog",{attrs:{width:"70%","close-on-click-modal":!1,visible:e.dialogFormEditVisible,title:"编辑帮助"},on:{"update:visible":function(t){e.dialogFormEditVisible=t}}},[a("el-form",{attrs:{"label-width":"90px","label-position":"right",model:e.editForm}},[a("el-form-item",{attrs:{label:"帮助名称"}},[a("el-input",{attrs:{placeholder:"请输入帮助名称"},model:{value:e.editForm.Name,callback:function(t){e.$set(e.editForm,"Name",t)},expression:"editForm.Name"}})],1),a("el-form-item",{attrs:{label:"帮助内容"}},[a("quill-editor",{ref:"myQuillEditor",staticClass:"editor",staticStyle:{"min-height":"200px"},attrs:{options:e.editorOption},on:{blur:function(t){return e.onEditorBlur(t)},focus:function(t){return e.onEditorFocus(t)},change:function(t){return e.onEditorChange(t)}},model:{value:e.editForm.Message,callback:function(t){e.$set(e.editForm,"Message",t)},expression:"editForm.Message"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"medium",type:"primary"},on:{click:e.editHttp}},[e._v(" 提 交 ")]),a("el-button",{attrs:{size:"medium"},on:{click:function(t){e.dialogFormEditVisible=!1}}},[e._v(" 取 消 ")])],1)],1),a("Drawer",{attrs:{closable:!1,title:"帮助详情",draggable:"",width:"30"},model:{value:e.value4,callback:function(t){e.value4=t},expression:"value4"}},[a("p",{style:e.pStyle},[e._v("帮助名称")]),a("div",{staticClass:"demo-drawer-profile"},[e._v(" "+e._s(e.detailInfo.Name)+" ")]),a("Divider"),a("p",{style:e.pStyle},[e._v("文档内容")]),a("div",{staticClass:"demo-drawer-profile",domProps:{innerHTML:e._s(e.detailInfo.Message)}}),a("Divider"),a("p",{style:e.pStyle},[e._v("创建时间")]),a("div",{staticClass:"demo-drawer-profile"},[e._v(" "+e._s(e.detailInfo.WriteTime)+" ")]),a("Divider"),a("p",{style:e.pStyle},[e._v("更新时间")]),a("div",{staticClass:"demo-drawer-profile"},[e._v(" "+e._s(e.detailInfo.UpDataTime)+" ")])],1)],1)],1)},i=[],s=a("2f62"),r=a("953d");a("a753"),a("8096"),a("14e1");function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,o)}return a}function n(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(a,!0).forEach((function(t){c(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function c(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var d={components:{quillEditor:r["quillEditor"]},data:function(){return{searchForm:{IsManagement:!0,AutoSystemID:"",page:1,limit:10,LikeName:"",LikeMessage:""},isShow:!0,tableData:[],loading:!1,exportConfig:{filename:"export",sheetName:"Sheet1",types:["csv","xlsx"]},count:0,addForm:{},dialogFormVisible:!1,selectedItems:[],editForm:{AutoSystemID:"",SystemID:"",Name:"",Message:""},dialogFormEditVisible:!1,value4:!1,pStyle:{fontSize:"16px",color:"rgba(0,0,0,0.85)",lineHeight:"24px",display:"block",marginBottom:"16px"},detailInfo:"",editorOption:{modules:{toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["clean"],["image","video"]]},theme:"snow",placeholder:"请输入正文"}}},computed:n({},Object(s["c"])("table",["pageSize"])),created:function(){this.searchForm.AutoSystemID=localStorage.getItem("AutoSystemID"),this.searchForm.limit=this.pageSize[0],this.getData()},methods:n({},Object(s["b"])("tabs",["set_detail_label"]),{},Object(s["b"])("detail",["set_dictionaryDataParams"]),{handleSizeChange:function(e){this.searchForm.limit=e,this.getData()},handleCurrentChange:function(e){this.searchForm.page=e,this.getData()},getData:function(){var e=this;this.loading=!0;var t="/api/Help/GetHelpList";this.$axios.get(t,{params:this.searchForm}).then((function(t){0===t.data.code?(e.tableData=t.data.data,e.count=t.data.count,e.loading=!1):1===t.data.code&&e.$message.error(t.data.msg)})).catch((function(e){console.error(e)}))},setTop:function(e){var t=this,a={AutoSystemID:this.searchForm.AutoSystemID,HelpIsTop:parseInt(e.HelpIsTop),SystemID:e.SystemID,Name:e.Name},o="/api/Help/SetTop";this.$axios.post(o,a).then((function(e){0===e.data.code?t.$message.success(e.data.msg):1===e.data.code&&t.$message.error(e.data.msg)})).catch((function(e){console.error(e)}))},setShow:function(e){var t=this,a={AutoSystemID:this.searchForm.AutoSystemID,HelpIsShow:parseInt(e.HelpIsShow),SystemID:e.SystemID,Name:e.Name},o="/api/Help/SetShow";this.$axios.post(o,a).then((function(e){0===e.data.code?t.$message.success(e.data.msg):1===e.data.code&&t.$message.error(e.data.msg)})).catch((function(e){console.error(e)}))},addKey:function(){var e=this;this.addForm.AutoSystemID=this.searchForm.AutoSystemID;var t="/api/Help/Add";this.$axios.post(t,this.addForm).then((function(t){0===t.data.code?(e.$message.success(t.data.msg),e.addForm={}):1===t.data.code&&e.$message.error(t.data.msg),e.dialogFormVisible=!1,e.getData()})).catch((function(e){console.error(e)}))},deleteItem:function(e){var t=this,a="/api/Help/Delete",o={AutoSystemID:this.searchForm.AutoSystemID,data:[{SystemID:e.SystemID,Name:e.Name}]};this.$confirm("确定删除吗","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.$axios.post(a,o).then((function(e){if(0===e.data.code){t.$message.success(e.data.msg);var a=Math.ceil((t.count-1)/t.searchForm.limit),o=t.searchForm.page>a?a:t.searchForm.page;t.searchForm.page=o<1?1:o,t.getData()}else 1===e.data.code&&t.$message.error(e.data.msg)})).catch((function(e){console.error(e)}))})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))},deleteItems:function(){var e=this;this.selectedItems=this.$refs.xTable.getCheckboxRecords();var t=[];if(0===this.selectedItems.length)return this.$message.warning("请选择要删除的用户"),!1;var a=!0,o=!1,i=void 0;try{for(var s,r=this.selectedItems[Symbol.iterator]();!(a=(s=r.next()).done);a=!0){var l=s.value;t.push({Name:l.Name,SystemID:l.SystemID})}}catch(n){o=!0,i=n}finally{try{a||null==r.return||r.return()}finally{if(o)throw i}}this.$confirm("确定删除吗","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var a="/api/Help/Delete";e.$axios.post(a,{AutoSystemID:e.searchForm.AutoSystemID,data:t}).then((function(t){if(0===t.data.code){e.$message.success("删除成功");var a=Math.ceil((e.count-e.selectedItems.length)/e.searchForm.limit),o=e.searchForm.page>a?a:e.searchForm.page;e.searchForm.page=o<1?1:o,e.getData()}else 1===t.data.code&&e.$message.error(t.data.msg)})).catch((function(e){console.error(e)}))})).catch((function(){e.$message({type:"info",message:"已取消删除"})}))},toDetail:function(e){var t=this,a="/api/Help/Get",o={AutoSystemID:this.searchForm.AutoSystemID,HelpSystemID:e};this.$axios.get(a,{params:o}).then((function(e){t.detailInfo=e.data.data,t.value4=!0})).catch((function(e){console.error(e)}))},editItem:function(e){this.editForm=e,console.log(this.editForm),this.dialogFormEditVisible=!0},editHttp:function(){var e=this,t={AutoSystemID:this.searchForm.AutoSystemID,Name:this.editForm.Name,Message:this.editForm.Message,SystemID:this.editForm.SystemID},a="/api/Help/UpData";this.$axios.post(a,t).then((function(t){0===t.data.code?(e.$message.success(t.data.msg),e.editForm={},e.dialogFormEditVisible=!1,e.getData()):1===t.data.code&&e.$message.error(t.data.msg)})).catch((function(e){console.error(e)}))},onEditorReady:function(e){},onEditorBlur:function(){},onEditorFocus:function(){},onEditorChange:function(){}})},m=d,u=(a("974a"),a("2877")),h=Object(u["a"])(m,o,i,!1,null,"2ef5400e",null);t["default"]=h.exports},"974a":function(e,t,a){"use strict";var o=a("0982"),i=a.n(o);i.a}}]);
//# sourceMappingURL=HelpList.484990c1.js.map